<!DOCTYPE html>
<html>
<title>Yongjun & Bom's Wedding</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="assets/css/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    
<!--<base href="https://www.w3schools.com/" target="_blank">-->

<style>
body,h1,h2{font-family: "Raleway", sans-serif}
body, html {height: 100%}
p {line-height: 2}
.bgimg, .bgimg2 {
    min-height: 100%;
    background-position: center;
    background-size: cover;
}
.bgimg {background-image: url("assets/images/propose2.png")}
.bgimg2 {background-image: url("w3images/flowers.jpg")}
.invitation {text-align: center}
</style>
<body>

<!-- Header / Home-->
<header class="w3-display-container w3-wide bgimg" id="home">
  <div class="w3-display-top w3-text-white w3-center">
    <h1 class="w3-xxxlarge">Yongjun & Bom</h1>
    <h2>Are getting married</h2>
    <h2><b>2017.04.02</b></h2>    
  </div>
</header>
  
<!-- Navbar (sticky bottom) -->
<div class="w3-bottom w3-hide-small">
  <div class="w3-bar w3-white w3-center w3-padding-8 w3-opacity-min w3-hover-opacity-off">
    <a href="#home" style="width:25%" class="w3-bar-item w3-button">Home</a>
    <a href="#us" style="width:25%" class="w3-bar-item w3-button">Yongjun & Bom</a>
    <a href="#wedding" style="width:25%" class="w3-bar-item w3-button">Wedding</a>
    <a href="#rsvp" style="width:25%" class="w3-bar-item w3-button w3-hover-black">RSVP</a>
  </div>
</div>

<!-- About / Yongjun And Bom -->
<div class="w3-container w3-pale-red w3-padding-64" id="us">
  <div class="w3-content">
    <h1 class="w3-center w3-text-grey"><b>우리 결혼 합니다</b></h1>
    <img class="w3-round w3-grayscale-min" src="assets/images/houston3.png" style="width:100%;margin:3px 0">
    <p class="invitation"><i>하나님의 사랑으로<br>
      만난 두 사람이 이제 새로운 가정을 이루는<br>
      언제나 아름답고 주위의 사랑을 나누는<br>
      행복한 가정을 이루도록<br>
      오셔서 축복해 주시고 지켜봐 주십시오.</i>
    </p><br>
    
    <div class="w3-row">
      <div class="w3-half w3-center">
        <p>신랑 유 용준</p>
        <p>아버지 유 철근</p>
        <p>어머니 팽 미선</p>
      </div>
      <div class="w3-half w3-center">
        <p>신부 조 봄</p>
        <p>아버지 David Cho</p>
        <p>어머니(故)</p>
      </div>
    </div>

    <p class="w3-center w3-padding-32"><a href="#wedding" class="w3-button w3-black w3-round w3-padding-large w3-large">Wedding Details</a></p>
  </div>
</div>

<!-- Background photo -->
<div class="w3-display-container bgimg2">
  <div class="w3-display-middle w3-text-white w3-center">
    <h1 class="w3-jumbo">You Are Invited</h1><br>
    <h2>Of course..</h2>
  </div>
</div>

<!-- Wedding information -->
<div class="w3-container w3-padding-64 w3-pale-red w3-grayscale-min w3-center" id="wedding">
  <div class="w3-content">
    <h1 class="w3-text-grey"><b>THE WEDDING</b></h1>
    <img class="w3-round-large w3-grayscale-min" src="assets/images/raum2.jpg" style="width:100%;margin:32px 0">
    <div class="w3-row">
      <div class="w3-half">
        <h2>When</h2>
        <p>예식 - 일요일 6:00 pm</p>
        <p>식사 & 피로연 - 7:00 pm - 11:00 pm</p>
      </div>
      <div class="w3-half">
        <h2>Where</h2>
        <style>
          p {
            margin-bottom:0px;margin-top:0;
          }
        </style>
        <div>
          <div>
            <p style="margin:15px 0 0 0;"><img src="assets/images/raumLogo.png" style="width:25px; margin-right:5px">더 라움 <a href="http://www.theraum.co.kr/">(The Raum)</a></p>
            <p>서울시 강남구 언주로 564 (역삼동 680-1)</p>
            <p>02-538-3366</p>
          </div>
        </div>
      </div>
      <img class="w3-padding-16" src="assets/images/map.png" style="width:90%;">
    </div>
  </div>
</div>

<!-- RSVP section -->
<div class="w3-container w3-padding-64 w3-pale-red w3-center w3-wide" id="rsvp">
  <h1>HOPE YOU CAN MAKE IT!</h1>
  <p class="w3-large">Kindly Respond By January, 2017</p>
  <p class="w3-xlarge">
    <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-round w3-red w3-opacity w3-hover-opacity-off" style="padding:8px 60px">RSVP</button>
  </p>
</div>

<!-- RSVP modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content w3-card-8 w3-animate-top w3-padding-jumbo" style="max-width:600px">
    <div class="w3-container w3-white w3-center">
      <span onclick="document.getElementById('id01').style.display='none'" class="w3-closebtn w3-hover-text-grey w3-margin">x</span>
      <h1 class="w3-wide">CAN YOU COME?</h1>
      <p>We really hope you can make it.</p>
      <form name="rsvpForm">
        <input class="w3-input w3-border" type="text" placeholder="Name(s)" name="fname" id="nameInput">
      </form>
      <p><i>Sincerely, Bom & Yongjun</i></p>
      <div class="w3-row">
        <div class="w3-half">
          <button onclick="going()" type="button" class="w3-button w3-block w3-green enableOnFormFilled" disabled="true">Going</button>
        </div>
        <div class="w3-half">
          <button onclick="notGoing()" type="button" class="w3-button w3-block w3-red enableOnFormFilled" disabled="true">Can't come</button>
        </div>
      </div>
    </div>
  </div>
</div>
  
<!-- Footer -->
<footer class="w3-center w3-black w3-padding-16">
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>
<div class="w3-hide-small" style="margin-bottom:32px"> </div>

</body>
  
<!-- jQuery -->
<script src="http://code.jquery.com/jquery.min.js"></script>
<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.6.10/firebase-database.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD19uyDm3KDdKAAAnVYjC49YYCudbBif8k",
    authDomain: "squareelan.firebaseapp.com",
    databaseURL: "https://squareelan.firebaseio.com",
    storageBucket: "squareelan.appspot.com",
    messagingSenderId: "512924107988"
  };
  firebase.initializeApp(config);
  console.log("Initialized Firebase");
  
  function writeGuestData(userId, name, isAttending) {
    var group;
    
    if (isAttending == true) {
      group = 'attend/'  
    } else {
      group = 'notAttend/'
    }
    
    firebase.database().ref(group + userId).set({
      username: name,
      isAttending: isAttending
    });
  }
  
  function generateUUID() {
    var d = new Date().getTime();
    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        var r = (d + Math.random()*16)%16 | 0;
        d = Math.floor(d/16);
        return (c=='x' ? r : (r&0x3|0x8)).toString(16);
    });
    return uuid;
  };
</script>
<script>
  function dismissRSVP() {
    // Disable pop up
    document.getElementById('id01').style.display='none';
  }
  
  function formChanged() {
    var name = document.forms["rsvpForm"]["fname"].value;
    console.log(name)
    
    
    return name != null;
  }
  
  function going() {
    var name = document.getElementById("nameInput").value;

    dismissRSVP();

    console.log("Going: " + name);
    // Update to firebase
    writeGuestData(generateUUID(), name, true);
  }
  
  function notGoing() {
    var name = document.getElementById("nameInput").value;

    dismissRSVP();

    console.log("Not going: " + name);
    
    // Update to firebase
    writeGuestData(generateUUID(), name, false);
  }
  
  $(function () {
      $('#nameInput').keyup(function () {
          if ($(this).val() == '' || $(this).val() == null) {
              //Check to see if there is any text entered
              // If there is no text within the input ten disable the button
              $('.enableOnFormFilled').prop('disabled', true);      
          } else {
              //If there is text in the input, then enable the button
              $('.enableOnFormFilled').prop('disabled', false);
          }
      });
  }); 
</script>  
</html>
